<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>2048 Game Series | Choose Language | 选择语言</title>
  <meta name="description" content="Play the 2048 game series in your preferred language! | 使用您偏好的语言玩2048游戏系列！">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background-color: #faf8ef;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      text-align: center;
    }
    .container {
      background-color: #bbada0;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h1 {
      color: #f9f6f2;
      margin: 0 0 30px 0;
      font-size: 32px;
    }
    .language-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
    }
    .language-button {
      background-color: #8f7a66;
      color: #f9f6f2;
      border: none;
      padding: 15px 30px;
      font-size: 20px;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.2s;
    }
    .language-button:hover {
      background-color: #776e65;
    }
    .loading {
      color: #776e65;
      margin-top: 20px;
      font-size: 16px;
    }
  </style>
  <script>
    function getPreferredLanguage() {
      // 获取浏览器语言设置
      const lang = navigator.language || navigator.userLanguage;
      
      // 获取语言代码的前两个字符
      const browserLang = lang.toLowerCase().slice(0, 2);
      
      // 如果是中文，返回 'cn'
      if (browserLang === 'zh') {
        return 'cn';
      }
      
      // 默认返回英文
      return 'en';
    }

    // 页面加载完成后执行重定向
    window.addEventListener('load', function() {
      const lang = getPreferredLanguage();
      // 显示加载提示
      document.getElementById('loading').style.display = 'block';
      // 延迟一秒执行重定向，让用户有机会看到语言选择界面
      setTimeout(function() {
        window.location.href = '/' + lang + '/index.html';
      }, 1000);
    });
  </script>
</head>
<body>
  <div class="container">
    <h1>2048+</h1>
    <div class="language-buttons">
      <a href="/en/index.html" class="language-button">English</a>
      <a href="/cn/index.html" class="language-button">简体中文</a>
    </div>
    <p id="loading" class="loading" style="display: none;">
      Redirecting to your preferred language... <br>
      正在跳转到您偏好的语言...
    </p>
  </div>
  <noscript>
    <style>
      #loading { display: none !important; }
    </style>
  </noscript>
</body>
</html>
